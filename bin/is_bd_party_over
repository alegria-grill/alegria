#!/usr/bin/env ruby
# frozen_string_literal: true

require 'date'

now = Time.now
if now.month == 12
  next_month = 1
  next_year = now.year + 1
else
  next_month = now.month + 1
  next_year = now.year
end

next_first = Date.new(next_year, next_month, 1)
next_cwday = next_first.cwday
last_tuesday = case next_cwday
               when 1
                 next_first - 6
               when 2
                 next_first - 7
               else
                 next_first - (next_cwday - 2)
               end
puts last_tuesday

# cmd = ARGV.join(' ')
# prog = __FILE__.split('/').last
#
# case cmd
# when '-h', '--help', 'help'
#   puts "#{prog} -h|--help|help  --  Show this message."
# else
#   warn "!!! Unknown command: #{cmd}"
#   exit 1
# end # case
